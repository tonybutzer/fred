

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Code python ET Case Study &mdash; PANGEO/Jupyter Onboarding 101 - Case Studies 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PANGEO/Jupyter Onboarding 101 - Case Studies
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../00-charter.html">Case Study Fred</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#purpose">Purpose</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#goals">Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#approach">Approach</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#project-team">Project Team</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#initial-objectives">Initial Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#technology-assessment">Technology Assessment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#data-assessment">Data Assessment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../00-charter.html#data-inputs">Data Inputs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#data-wrangling-strategy">Data Wrangling Strategy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#self-directed-training">Self directed Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#the-big-pangeo-access">The BIG PANGEO access</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#progress-so-far">Progress So far</a></li>
<li class="toctree-l2"><a class="reference internal" href="../00-charter.html#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PANGEO/Jupyter Onboarding 101 - Case Studies</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Code python ET Case Study</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Junk/40Code.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="code-python-et-case-study">
<h1>Code python ET Case Study<a class="headerlink" href="#code-python-et-case-study" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="veget-code">
<h1>VegET Code<a class="headerlink" href="#veget-code" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="code-readability">
<h1>Code Readability<a class="headerlink" href="#code-readability" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="simple-user-interface">
<h1>Simple User Interface<a class="headerlink" href="#simple-user-interface" title="Permalink to this headline">¶</a></h1>
<div class="section" id="python3-run-veget-py-40n-80e">
<h2>python3 run_veget.py 40N-80E<a class="headerlink" href="#python3-run-veget-py-40n-80e" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>geojson and shapefile bakeoff</p></li>
</ul>
</div>
</div>
<div class="section" id="simple-and-separate-param-files">
<h1>Simple and Separate Param Files<a class="headerlink" href="#simple-and-separate-param-files" title="Permalink to this headline">¶</a></h1>
<div class="section" id="run-params">
<h2>run params<a class="headerlink" href="#run-params" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Customer: Tony</p></li>
<li><p>Author: Steffi</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># ================ ACTIVE config SECTION ==============================</span>
<span class="c1"># === Minimalist Beta Version Params ====</span>
<span class="n">start_year</span><span class="p">:</span> <span class="mi">2015</span>
<span class="n">end_year</span><span class="p">:</span> <span class="mi">2015</span>
<span class="n">start_day</span><span class="p">:</span> <span class="mi">001</span>
<span class="n">end_day</span><span class="p">:</span> <span class="mi">003</span>

<span class="n">accumulate_mode</span><span class="p">:</span> <span class="p">[</span><span class="n">daily</span><span class="p">]</span> <span class="c1">#[yearly, monthly, daily]</span>

<span class="n">geojson_file</span><span class="p">:</span> <span class="n">a</span><span class="o">.</span><span class="n">json</span>
<span class="n">shapefile</span><span class="p">:</span> <span class="n">C</span><span class="p">:</span>\<span class="n">WaterSmart</span>\<span class="n">Projects</span>\<span class="n">CloudVegET</span>\<span class="n">shapefiles</span>\<span class="n">out_box</span><span class="o">.</span><span class="n">shp</span>
<span class="c1"># sample tiff could/should be derived from the geojson clip of the ndvi - or maybe not needed - tbd</span>
<span class="n">sample_tiff</span><span class="p">:</span> <span class="n">C</span><span class="p">:</span>\<span class="n">WaterSmart</span>\<span class="n">Projects</span>\<span class="n">CloudVegET</span>\<span class="n">local_testing</span>\<span class="n">ndvi</span>\<span class="n">med001</span><span class="o">.</span><span class="mi">250</span><span class="n">_m_NDVI</span><span class="o">.</span><span class="n">tif</span>
</pre></div>
</div>
</div>
<div class="section" id="model-params">
<h2>model params<a class="headerlink" href="#model-params" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Customer: Gabriel Senay</p></li>
<li><p>Author: Steffi</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># === Parameters set by Gabriel Senay ====</span>
<span class="c1"># defining low and high temperature values (in C°) to determine what is snow, sleet, rain</span>
<span class="n">rf_low_thresh_temp</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">rf_high_thresh_temp</span><span class="p">:</span> <span class="mi">6</span>
<span class="n">rf_value</span><span class="p">:</span> <span class="mf">0.167</span>
<span class="n">melt_factor</span><span class="p">:</span> <span class="mf">0.06</span>

<span class="c1"># drainage coefficient = 1 - runoff coefficient</span>
<span class="n">dc_coeff</span><span class="p">:</span> <span class="mf">0.65</span>
<span class="c1"># 1 - dc_coeff</span>
<span class="n">rf_coeff</span><span class="p">:</span> <span class="mf">0.35</span>

<span class="c1"># constant values to adjust NDVI in the ET calculation</span>
<span class="n">k_factor</span><span class="p">:</span> <span class="mf">1.25</span>
<span class="n">ndvi_factor</span><span class="p">:</span> <span class="mf">0.2</span>
<span class="c1"># water adjustment</span>
<span class="n">water_factor</span><span class="p">:</span> <span class="mf">0.7</span>
<span class="c1"># reference ET bias correction</span>
<span class="n">bias_corr</span><span class="p">:</span> <span class="mf">0.85</span>
<span class="n">alfa_factor</span><span class="p">:</span> <span class="mf">1.25</span>
</pre></div>
</div>
</div>
<div class="section" id="path-params">
<h2>path params<a class="headerlink" href="#path-params" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>TBD</p></li>
</ul>
<p>https://github.com/tonybutzer/cloud-veg-et/blob/master/00-tony/00-notebooks/sample_config/path_param.yml</p>
</div>
<div class="section" id="clean-code-and-code-smells">
<h2>Clean Code and Code Smells<a class="headerlink" href="#clean-code-and-code-smells" title="Permalink to this headline">¶</a></h2>
<p><img alt="https://raw.githubusercontent.com/tonybutzer/training/c603fbc0e36764f467ac87fd18baa1dce01c9bf9/craft/dotPlay/codeSmellsComplexity.png" src="https://raw.githubusercontent.com/tonybutzer/training/c603fbc0e36764f467ac87fd18baa1dce01c9bf9/craft/dotPlay/codeSmellsComplexity.png" /></p>
<div class="section" id="speculative-generality">
<h3>Speculative Generality<a class="headerlink" href="#speculative-generality" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Can/should we move this flavor of code to the attic - Gabe,Tony ?</p></li>
</ul>
<p><img alt="https://raw.githubusercontent.com/tonybutzer/training/c603fbc0e36764f467ac87fd18baa1dce01c9bf9/craft/dotPlay/codeSmellsOOP.png" src="https://raw.githubusercontent.com/tonybutzer/training/c603fbc0e36764f467ac87fd18baa1dce01c9bf9/craft/dotPlay/codeSmellsOOP.png" /></p>
</div>
</div>
<div class="section" id="code-refactoring">
<h2>Code Refactoring<a class="headerlink" href="#code-refactoring" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="best-practices">
<h2>Best Practices<a class="headerlink" href="#best-practices" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="id1">
<h2><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="github-repo">
<h2>Github Repo<a class="headerlink" href="#github-repo" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="author">
<h1>Author<a class="headerlink" href="#author" title="Permalink to this headline">¶</a></h1>
<p>Darin.Schulte&#64;colostate.edu</p>
<p>This is to introduce you to Dr. Darin  Schulte (CCed).  Darin has the VegET Python  GEE code on Github. He will share the site next week.</p>
<p>For now, please exchange notes and collaborate as you see fit to advance the implementation of VegET on the Pangeo framework. This is an exciting step towards integrating land cover and hydrologic modeling.</p>
</div>
<div class="section" id="collaboration-obstacles">
<h1>Collaboration Obstacles<a class="headerlink" href="#collaboration-obstacles" title="Permalink to this headline">¶</a></h1>
<p>CHS is only available inside the USGS networks of VPN Access</p>
<div class="section" id="mitigations">
<h2>Mitigations<a class="headerlink" href="#mitigations" title="Permalink to this headline">¶</a></h2>
<ol class="simple">
<li><p>Credential every collaborator</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Replicate</span></code> a smaller set of data and aux data into GA buckets for refining/rewriting code to use xarrays</p></li>
<li><p>Then deploy this in CHS with the known CHS caveats</p></li>
</ol>
</div>
<div class="section" id="chs-tic-cartoon">
<h2>CHS TIC Cartoon<a class="headerlink" href="#chs-tic-cartoon" title="Permalink to this headline">¶</a></h2>
<p><img alt="tic" src="https://raw.githubusercontent.com/tonybutzer/assets/master/et/TIC_the_thing_that_makes_your_internet_suck.PNG" /></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Tony Butzer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>